---
import { getCollection, type CollectionEntry } from 'astro:content'

const food: CollectionEntry<'cooking'>[] = await getCollection('cooking')
---

<div
  class:list={[
    'rounded-lg border border-orange-400 bg-amber-100 p-2',
    'grid grid-cols-10 gap-1',
    'shadow-solid-sm shadow-solid shadow-orange-500',
    '@container',
  ]}
>
  {
    food.map((item, i) => (
      <div class='group relative aspect-1 content-center rounded-md border border-orange-400 p-2 shadow-sm hover:cursor-pointer'>
        <p class='absolute left-1 top-0 text-orange-900 [text-shadow:white_2px_2px_0]'>
          {i < 9 ? i + 1 : 0}
        </p>
        <img
          src={item.data.image.src}
          alt={item.data.name}
          class='mx-auto aspect-1 h-auto w-12 object-center'
        />
        <div
          class:list={[
            'absolute left-0 top-0 z-10 hidden w-56 -translate-x-1/3 -translate-y-[105%] rounded-md bg-amber-950 p-4',
            'text-white',
            'group-hover:block',
          ]}
        >
          <h3 class='mb-1 text-sm font-bold'>
            <a href='#'>
              <span
                aria-hidden='true'
                class='absolute inset-0'
              />
              {item.data.name}
            </a>
          </h3>
          <p class='text-xs italic'>{item.data.description}</p>
          <p class='mt-4 text-xs font-medium'>{item.data.price}g</p>
        </div>
      </div>
    ))
  }
</div>
