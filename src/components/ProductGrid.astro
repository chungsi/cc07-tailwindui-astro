---
import { getCollection, type CollectionEntry } from 'astro:content'

const allCooking: CollectionEntry<'cooking'>[] = await getCollection('cooking')
---

<div class='mx-auto max-w-md @container'>
  <div
    class:list={[
      'rounded-lg border border-orange-400 bg-amber-100 p-4 pb-8',
      'grid grid-cols-4 gap-2',
      'shadow-solid-sm shadow-solid shadow-orange-400',
    ]}
  >
    <h2
      class:list={[
        'bg-th-beige-50 col-span-full rounded-md border border-orange-300 p-2 shadow-sm',
        'text-sm font-medium text-orange-950',
      ]}
    >
      Yummy Food
    </h2>
    {
      allCooking.map((item) => (
        <div class='group relative aspect-1 content-center rounded-md border border-orange-300 p-2 shadow-sm hover:cursor-pointer'>
          {/* <div class='group-hover:opacity-75'> */}
          <img
            src={item.data.image.src}
            alt={item.data.name}
            class='mx-auto aspect-1 h-auto w-12 object-center'
          />
          {/* </div> */}
          <div
            class:list={[
              'absolute left-1/3 top-2/3 z-10 hidden w-56 rounded-md bg-amber-950 p-4',
              'text-white',
              'group-hover:block',
            ]}
          >
            <h3 class='mb-1 text-sm font-bold'>
              <a href='#'>
                <span
                  aria-hidden='true'
                  class='absolute inset-0'
                />
                {item.data.name}
              </a>
            </h3>
            <p class='text-xs italic'>{item.data.description}</p>
            <p class='mt-4 text-xs font-medium'>{item.data.price}g</p>
          </div>
        </div>
      ))
    }
  </div>
</div>

<script>
  // let
  // document.addEventListener("mouseover", listener)
</script>
